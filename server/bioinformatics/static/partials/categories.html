<div class="row table-header">
		<div class="col-md-6">
			<p class="pull-left lead">Categories</p>
		</div>
		<div class="col-md-6">
			<button class="btn btn-primary glyphicon glyphicon-plus pull-right new-button"
			ng-click="catCtrl.showNewCat(true)"
			ng-hide="catCtrl.new_cat===true">New</button>
			<button class="btn btn-danger glyphicon glyphicon-remove pull-right new-button"
			ng-click="catCtrl.showNewCat(false)"
			ng-show="catCtrl.new_cat===true">Cancel</button>
		</div>
</div>

<div id="new-category" class="round-border" ng-show="catCtrl.new_cat===true">
	<h3 class="text text-center">New Category</h3>
	<form class="form-horizontal" name="newCatForm" ng-submit="catCtrl.save(null)">
	  <div class="form-group">
	    <label for="category-name" class="col-sm-2 control-label">Category Name</label>
	    <div class="col-sm-10">
	      <input type="text" class="form-control" id="category-name" name="name" ng-model="name" placeholder="Name*" required>
	    </div>
	  </div>
	  <div class="form-group">
	    <label for="category-description" class="col-sm-2 control-label">Category Description</label>
	    <div class="col-sm-10">
	      <textarea rows="5" type="text" class="form-control" id="category-description" ng-model="description" name="description" placeholder="Description...*" required></textarea>
	    </div>
	  </div>
	  <div class="form-group">
	  	<label for="workflow-options" class="col-sm-2 control-label">Choose 0 or more workflows:</label>
	    <div class="col-sm-10">
	      <div class="checkbox" name="workflows" id="workflow-options" ng-repeat="workflow in catCtrl.workflows">
	        <label>
	          <input type="checkbox" ng-model="workflows[workflow.id]" value="{{workflow.id}}"> {{workflow.name}}
	        </label>
	      </div>
	    </div>
	  </div>
	  <div class="form-group">
	    <div class="col-sm-offset-2 col-sm-10">
	      <button type="submit" class="btn btn-primary">Create</button>
	    </div>
	  </div>
	</form>
	<hr>
</div>
<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
  <div class="panel panel-default" ng-repeat="cat in categories">
    <div class="panel-heading" role="tab" id="{{'heading-' + cat.id }}">
      <h4 class="panel-title">
      	<span ng-show="catCtrl.isediting(cat.id)">*</span>
        <a class="collapsed" target="_self" data-toggle="collapse" data-parent="#accordion" href="{{'#collapse-' + cat.id }}" aria-expanded="false" aria-controls="{{'collapse-' + cat.id }}">
          {{cat.name}}
        </a>
        <small class="muted" ng-show="catCtrl.isediting(cat.id)">(edit)</small>
        <i ng-click="catCtrl.delete(cat.id)" class="glyphicon glyphicon-remove pull-right"></i>
        <i ng-hide="catCtrl.isediting(cat.id)" ng-click="catCtrl.edit(cat.id)" class="glyphicon glyphicon-pencil pull-right"></i>
        <i ng-show="catCtrl.isediting(cat.id)" ng-click="catCtrl.save(cat.id)" class="glyphicon glyphicon-ok pull-right"> Save </i>
      </h4>
    </div>
    <div id="{{'collapse-' + cat.id }}" class="panel-collapse collapse" role="tabpanel" aria-labelledby="{{'heading-' + cat.id }}">
      <div class="panel-body">
      	<p ng-hide="catCtrl.isediting(cat.id)">
        	{{cat.description}}
    	</p>
        <small ng-hide="catCtrl.isediting(cat.id)" class="muted">Created on {{cat.created_on | date:medium}}</small>
        <br>
        <small class="muted">last modified {{cat.last_updated | date:'MM/dd/yyyy @ h:mma'}}</small>
      </div>
    </div>
  </div>
</div>